# 减少手写 SQL 的功能

<!-- TOC -->

- [减少手写 SQL 的功能](#减少手写-sql-的功能)
    - [Aliases](#aliases)
    - [Group](#group)
    - [Bins](#bins)
    - [Hierarchy](#hierarchy)

<!-- /TOC -->

Tableau 有很多小功能，都是为了避免用户手写 SQL，降低使用门槛，方便不懂 SQL 的用户使用，同时会用 SQL 的同学也会觉得这些功能非常方便。这些功能都是精心设计过的，有很多使用场景，也是 Tableau 的优势之一，因为我发现很多同类软件用着用着就必须要写 SQL 才能解决了(比如 Metabase)...

### Aliases

这个功能就是给值取别名。比如我们在设计数据库时，经常会有 status 字段表示状态，比如有 `0` 表示正常，`1` 表示被禁言，`-1` 表示被删除等等。那么对该表进行可视化时，如何将 `0`, `1`, `-1` 这些值如何跟中文含义对应上？这就是 Aliases 功能的作用。这是个小功能，但是我发现很多可视化分析系统都没有功能，这时候就只能写 SQL 取数了。

### Group

对字段值进行分组。比如如果你在对学生的成绩进行可视化，有科目，姓名，成绩三个字段，其中科目有数学，物理，语文，英语四种，但是你想分析文科平均成绩和理科平均成绩，可以把数学和物理分组为理科，语文和英语分组为文科，然后直接拖动理科字段和文科字段进行操作。

这个场景非常常见，如果没有这个功能，就需要写比较复杂的SQL

### Bins
Bins 跟上面的 Group 很像，也是对字段值进行分组，不过是针对连续的数据。比如你想看销量区间在 0-10, 10-20, 20-30 的商品分别有多少，就可以用 Bins.如果没有这个功能，只能写比较复杂的 SQL 了

### Hierarchy

Hierarchy 是给几个有逻辑关系的字段建立层级关系，从而可以方便的改变详细级别。举个例子，现在有一个商品表，把地区信息相关的字段创建一个Hierarchy：

![img](https://si.geilicdn.com/img-0bb20000016db3821c230a211580-unadjust_406_206.png)

如果你要看商品在不同地区的销售情况,简单的点击加号和减号，就能够改变你要比较的详细级别。这类例子还有很多，比如商品的一级类目，二级类目，三级类目的销售情况，也可以创建一个 Hierarchy。为了方便，当你连接数据源时，Tableau 会自动为 date 类型的字段创建 Hierarchy, 这样就能快速的按年，季度，月，天等不同详细级别来比较数据。

其它待补充...

